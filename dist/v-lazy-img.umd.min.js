!function(e,a){"object"==typeof exports&&"undefined"!=typeof module?module.exports=a():"function"==typeof define&&define.amd?define(a):(e=e||self)["v-lazy-img"]=a()}(this,(function(){"use strict";function e(e,a,s){e.attachEvent?e.attachEvent("on"+a,s):e.addEventListener(a,s,{capture:!1,passive:!0})}function a(e,a,s){e.classList.remove("lazy-load-error"),e.classList.remove("lazy-load-progress"),e.classList.add("lazy-load-success"),s?e.style.backgroundImage="url('"+a+"')":e.src=a}function s(e){e.classList.remove("lazy-load-error"),e.classList.remove("lazy-load-success"),e.classList.add("lazy-load-progress")}function o(e){e.classList.remove("lazy-load-success"),e.classList.remove("lazy-load-progress"),e.classList.add("lazy-load-error")}var t={load_image:function(a,s,o){var t=new Image;e(t,"load",s),e(t,"error",o),t.src=a},install:function(e){e.directive("lazy-load",(function(e,r,n){var l=r.value;s(e),t.load_image(l,(function(){return a(e,l)}),(function(){return o(e)}))})),e.directive("lazy-load-bg",(function(e,r,n){var l=r.value;s(e),t.load_image(l,(function(){return a(e,l,!0)}),(function(){return o(e)}))}))}};return t}));
